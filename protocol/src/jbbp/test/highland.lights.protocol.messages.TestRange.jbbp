int range_idx; // :( this should be a uint